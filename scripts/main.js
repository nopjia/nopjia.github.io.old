"use strict";var RenderContext=function(t){var e,o,n,i,a,r,s,c,l,d,p=this,u=t,m=Date.now(),h=16777215,E=0,f=function(){e=new THREE.WebGLRenderer({canvas:u,alpha:!1,depth:!0,stencil:!1,antialias:!1}),e.setSize(i,a),e.setClearColor(E),e.autoClear=!1},y=function(){i=u.clientWidth,a=u.clientHeight,r=i/a,f(),n=new THREE.PerspectiveCamera(45,r,.01,100),o=new THREE.Scene,window.addEventListener("resize",v,!1),p.customInit()},v=function(){i=u.parentNode.clientWidth,a=u.parentNode.clientHeight,r=i/a,e.setSize(i,a),n.aspect=r,n.updateProjectionMatrix()},g=function(){var t=Date.now(),e=.001*(t-m);return m=t,e};this.update=function(){e.clearTarget(null);var t=g();this.customUpdate(t),e.render(o,n)},this.getRenderer=function(){return e},this.getScene=function(){return o},this.getCamera=function(){return n},this.setColors=function(t,n){c.color.set(t),l.color.set(n),e.setClearColor(n),o.fog.color.set(n),h=t,E=n},this.customInit=function(){n.position.z=10,d=new THREE.Box3(new THREE.Vector3(-10,-12,-10),new THREE.Vector3(10,12,n.position.z));var t=20;o.fog=new THREE.Fog(E,-t,d.size().z+t/10);var e=new THREE.DirectionalLight(16777215,1);e.position.set(1,2,1),o.add(e),o.add(new THREE.AmbientLight(8947848)),c=new THREE.MeshBasicMaterial({color:h,wireframe:!0}),l=new THREE.MeshPhongMaterial({color:E,transparent:!0,depthTest:!0,depthWrite:!1,polygonOffset:!0,polygonOffsetFactor:1,shading:THREE.FlatShading});var i=new THREE.IcosahedronGeometry(1),a=20;s=[];for(var r=0;a>r;r++){var p=new THREE.Mesh(i,c),u=new THREE.Mesh(i,l),m=d.size(),f=new THREE.Vector3(m.x*Math.random()+d.min.x,m.y*Math.random()+d.min.y,m.z*Math.random()+d.min.z);p.position.copy(f),u.position.copy(f);var y=1,v=[y*Math.random()-y/2,y*Math.random()-y/2,y*Math.random()-y/2];p.avel=u.avel=v;var g=1,w=[g*Math.random()-g/2,g*Math.random()-g/2,g*Math.random()-g/2];p.vel=u.vel=w,s.push(p),s.push(u),o.add(p),o.add(u)}},this.customUpdate=function(t){for(var e=0;e<s.length;e++)s[e].rotation.x+=s[e].avel[0]*t,s[e].rotation.y+=s[e].avel[1]*t,s[e].rotation.z+=s[e].avel[2]*t,s[e].position.x+=s[e].vel[0]*t,s[e].position.y+=s[e].vel[1]*t,s[e].position.z+=s[e].vel[2]*t;for(e=0;e<s.length;e+=2)if(!d.containsPoint(s[e].position)){var o=s[e],i=s[e+1];o.position.x>d.max.x?o.position.x=i.position.x=d.min.x:o.position.x<d.min.x&&(o.position.x=i.position.x=d.max.x),o.position.y>d.max.y?o.position.y=i.position.y=d.min.y:o.position.y<d.min.y&&(o.position.y=i.position.y=d.max.y),o.position.z>d.max.z?o.position.z=i.position.z=d.min.z:o.position.z<d.min.z&&(o.position.z=i.position.z=d.max.z)}var a=20,r=document.documentElement.scrollHeight,c=window.pageYOffset+window.innerHeight/2;n.position.y=-(c/r*a-a/2)},y()};RenderContext.prototype.constructor=RenderContext,function(){function t(t){return("0"+parseInt(t).toString(16)).slice(-2)}function e(e){return/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+t(e[1])+t(e[2])+t(e[3]))}console.log("Hello! My name is Nop!");var o=document.getElementById("canvas"),n=new RenderContext(o),i=function(){n.update(),requestAnimationFrame(i)},a=function(){var t;return function(){if(this!==t){document.body.className=this.dataset.palette||"",this.classList.add("selected"),t&&t.classList.remove("selected"),t=this;var o=e(window.getComputedStyle(document.body).getPropertyValue("background-color")),i=e(window.getComputedStyle(document.body).getPropertyValue("color"));n.setColors(i,o),console.log("Scheme: "+i+","+o)}}}();Array.prototype.forEach.call(document.querySelector(".scheme-palette").children,function(t){t.onclick=a}),a.call(document.querySelector(".scheme-palette .selected")),i()}();